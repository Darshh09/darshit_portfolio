{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "magic-3d-tabs",
  "type": "registry:component",
  "title": "Magic 3D Tabs",
  "author": "darshitdev <darshit@darshitdev.in>",
  "description": "A beautiful 3D tabs component with perspective effects",
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/registry/magic-3d-tabs/magic-3d-tabs.tsx",
      "type": "registry:component",
      "content": "\"use client\";\n\nimport React, { useEffect, useId, useMemo, useState } from \"react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport { cn } from '@/lib/utils';\n\nexport interface MagicTabItem {\n  label: string;\n  title?: string;\n  description?: string;\n  content?: string | React.ReactNode;\n  gradient?: string;\n  previewImage?: string;\n}\n\ninterface Magic3DTabsProps {\n  tabs: MagicTabItem[];\n  containerClassName?: string;\n  tabClassName?: string;\n  activeTabClassName?: string;\n  contentClassName?: string;\n  defaultTab?: number;\n}\n\nexport function Magic3DTabs({\n  tabs,\n  containerClassName,\n  tabClassName,\n  activeTabClassName,\n  contentClassName,\n  defaultTab = 0,\n}: Magic3DTabsProps) {\n  const generatedId = useId();\n  const safeTabs = useMemo(() => tabs.filter(Boolean), [tabs]);\n  const [activeTab, setActiveTab] = useState<MagicTabItem | null>(\n    safeTabs[defaultTab] ?? safeTabs[0] ?? null\n  );\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const [hoveredTabIndex, setHoveredTabIndex] = useState<number | null>(null);\n\n  const getTabDomId = (label: string) =>\n    `${generatedId}-tab-${label.toLowerCase().replace(/[^a-z0-9]+/g, \"-\")}`;\n  const getPanelDomId = (label: string) =>\n    `${generatedId}-panel-${label.toLowerCase().replace(/[^a-z0-9]+/g, \"-\")}`;\n\n  useEffect(() => {\n    if (!activeTab || !safeTabs.some((tab) => tab.label === activeTab.label)) {\n      setActiveTab(safeTabs[0] ?? null);\n    }\n  }, [activeTab, safeTabs]);\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = ((e.clientX - rect.left) / rect.width - 0.5) * 20;\n    const y = ((e.clientY - rect.top) / rect.height - 0.5) * 20;\n    setMousePosition({ x, y });\n  };\n\n  if (!safeTabs.length || !activeTab) return null;\n\n  const activeIndex = safeTabs.findIndex((tab) => tab.label === activeTab.label);\n\n  return (\n    <section\n      className={cn(\n        \"w-full max-w-7xl mx-auto px-4 py-6 sm:px-6  lg:px-8\",\n        containerClassName\n      )}\n      aria-label=\"Magic 3D Tabbed content\"\n    >\n      <div className=\"flex flex-col items-center justify-center\">\n        {/* Unique Tab Navigation with 3D Effect */}\n        <div className=\"w-full overflow-x-auto overflow-y-hidden  mb-8\">\n          <div\n            className=\"flex min-w-max items-center gap-2 sm:gap-3 justify-center\"\n            role=\"tablist\"\n            aria-orientation=\"horizontal\"\n          >\n            {safeTabs.map((tab, index) => {\n              const isActive = activeTab.label === tab.label;\n              const tabId = getTabDomId(tab.label);\n              const panelId = getPanelDomId(tab.label);\n              const distance = Math.abs(index - activeIndex);\n              const scale = Math.max(0.85, 1 - distance * 0.1);\n              const isHovered = hoveredTabIndex === index;\n\n              return (\n                <div key={tab.label} className=\"relative group\">\n                  <motion.button\n                    type=\"button\"\n                    onClick={() => setActiveTab(tab)}\n                    onMouseEnter={() => setHoveredTabIndex(index)}\n                    onMouseLeave={() => setHoveredTabIndex(null)}\n                    className={cn(\n                      \"relative z-0 rounded-full cursor-pointer px-4 mt-2 py-2.5 text-sm font-medium transition-all duration-200 sm:px-5 sm:py-2.5 sm:text-base\",\n                      \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/20 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent\",\n                      tabClassName\n                    )}\n                    role=\"tab\"\n                    id={tabId}\n                    aria-selected={isActive}\n                    aria-controls={panelId}\n                    tabIndex={isActive ? 0 : -1}\n                    animate={{\n                      scale,\n                      y: isActive ? -2 : 0,\n                      opacity: distance > 2 ? 0.5 : 1,\n                    }}\n                    whileHover={{\n                      scale: isActive ? 1.02 : 0.98,\n                      y: isActive ? -3 : -1,\n                    }}\n                    transition={{\n                      type: \"spring\",\n                      bounce: 0.2,\n                      duration: 0.4,\n                    }}\n                  >\n                    {isActive && (\n                      <motion.div\n                        layoutId=\"magic-3d-tabs-active-pill\"\n                        transition={{\n                          type: \"spring\",\n                          bounce: 0.3,\n                          duration: 0.6,\n                          ease: \"easeInOut\",\n                        }}\n                        className={cn(\n                          \"absolute inset-0 rounded-full\",\n                          \"bg-white/10 backdrop-blur-sm\",\n                          \"border border-white/20\",\n                          \"shadow-[inset_0_1px,inset_0_0_0_1px] shadow-white/[0.025]\",\n                          \"before:absolute before:inset-0 before:rounded-full before:bg-gradient-to-b before:from-white/5 before:to-transparent\",\n                          activeTabClassName\n                        )}\n                      />\n                    )}\n                    <span\n                      className={cn(\n                        \"relative z-10 whitespace-nowrap transition-colors\",\n                        isActive ? \"text-white\" : \"text-neutral-400\"\n                      )}\n                    >\n                      {tab.title ?? tab.label}\n                    </span>\n                  </motion.button>\n\n                  {/* Hover Preview */}\n                  <AnimatePresence>\n                    {isHovered && !isActive && (\n                      <motion.div\n                        initial={{ opacity: 0, y: 10, scale: 0.95 }}\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\n                        exit={{ opacity: 0, y: 10, scale: 0.95 }}\n                        transition={{ duration: 0.2 }}\n                        className=\"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-64 z-50 pointer-events-none\"\n                      >\n                        <div\n                          className=\"rounded-xl overflow-hidden backdrop-blur-sm border border-white/10\"\n                          style={{\n                            background: \"color-mix(in oklab, var(--color-card) 98%, black 2%)\",\n                            boxShadow: \"var(--shadow-soft)\",\n                          }}\n                        >\n                          {tab.previewImage && (\n                            <div className=\"relative h-32 bg-gradient-to-br from-purple-600/30 to-violet-600/30\">\n                              <div\n                                className=\"absolute inset-0 bg-cover bg-center opacity-60\"\n                                style={{ backgroundImage: `url(${tab.previewImage})` }}\n                              />\n                              <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\" />\n                            </div>\n                          )}\n                          <div className=\"p-4\">\n                            <h4 className=\"text-white font-semibold text-sm mb-1\">\n                              {tab.title ?? tab.label}\n                            </h4>\n                            {tab.description && (\n                              <p className=\"text-neutral-400 text-xs leading-relaxed\">\n                                {tab.description}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Magic 3D Content Container with Perspective */}\n        <div\n          className={cn(\n            \"w-full relative\",\n            \"[perspective:1000px]\",\n            \"h-[24rem] md:h-[32rem] lg:h-[40rem]\"\n          )}\n          onMouseMove={handleMouseMove}\n        >\n          <AnimatePresence mode=\"wait\">\n            {safeTabs.map((tab) => {\n              const isActive = activeTab.label === tab.label;\n              if (!isActive) return null;\n\n              return (\n                <motion.div\n                  key={tab.label}\n                  initial={{\n                    opacity: 0,\n                    rotateX: -20,\n                    rotateY: 20,\n                    scale: 0.8,\n                    z: -100,\n                  }}\n                  animate={{\n                    opacity: 1,\n                    rotateX: mousePosition.y * 0.5,\n                    rotateY: mousePosition.x * 0.5,\n                    scale: 1,\n                    z: 0,\n                  }}\n                  exit={{\n                    opacity: 0,\n                    rotateX: 20,\n                    rotateY: -20,\n                    scale: 0.8,\n                    z: -100,\n                  }}\n                  transition={{\n                    duration: 0.6,\n                    ease: [0.4, 0, 0.2, 1],\n                  }}\n                  style={{\n                    transformStyle: \"preserve-3d\",\n                    background: tab.gradient || \"color-mix(in oklab, var(--color-card) 96%, black 4%)\",\n                    border: \"1px solid rgba(255,255,255,.06)\",\n                    borderRadius: \"var(--radius)\",\n                  }}\n                  className={cn(\n                    \"w-full h-full rounded-2xl relative overflow-hidden\",\n                    contentClassName\n                  )}\n                  role=\"tabpanel\"\n                  id={getPanelDomId(tab.label)}\n                  aria-labelledby={getTabDomId(tab.label)}\n                >\n                  {/* Dynamic Shadow Layer - Clean & Responsive */}\n                  <motion.div\n                    className=\"absolute inset-0 rounded-2xl pointer-events-none\"\n                    animate={{\n                      boxShadow: `\n                        0 0 0 1px rgba(255,255,255,.06),\n                        0 20px 50px rgba(0,0,0,.35),\n                        ${mousePosition.x * 0.3}px 0 ${Math.abs(mousePosition.x) * 1.5}px rgba(0, 0, 0, ${0.15 + Math.abs(mousePosition.x) * 0.01}),\n                        ${-mousePosition.x * 0.3}px 0 ${Math.abs(mousePosition.x) * 1.5}px rgba(0, 0, 0, ${0.15 + Math.abs(mousePosition.x) * 0.01}),\n                        0 ${mousePosition.y * 0.3}px ${Math.abs(mousePosition.y) * 1.5}px rgba(0, 0, 0, ${0.1 + Math.abs(mousePosition.y) * 0.01}),\n                        inset 0 1px 0 rgba(255,255,255,0.02),\n                        inset 0 -1px 0 rgba(255,255,255,0.01)\n                      `,\n                    }}\n                    transition={{\n                      duration: 0.2,\n                      ease: \"easeOut\",\n                    }}\n                  />\n\n                  {/* 3D Content Layers */}\n                  <div className=\"relative w-full h-full p-4 sm:p-6 md:p-8\">\n                    {/* Animated Background Gradient */}\n                    <motion.div\n                      className=\"absolute inset-0 opacity-40\"\n                      animate={{\n                        background: [\n                          `radial-gradient(circle at 0% 0%, rgba(181, 201, 255, 0.2), transparent 50%)`,\n                          `radial-gradient(circle at 100% 100%, rgba(181, 201, 255, 0.2), transparent 50%)`,\n                          `radial-gradient(circle at 0% 0%, rgba(181, 201, 255, 0.2), transparent 50%)`,\n                        ],\n                      }}\n                      transition={{\n                        duration: 8,\n                        repeat: Infinity,\n                        ease: \"easeInOut\",\n                      }}\n                    />\n\n                    {/* Floating Particles Effect */}\n                    <div className=\"absolute inset-0 overflow-hidden\" suppressHydrationWarning>\n                      {[...Array(6)].map((_, i) => {\n                        // Use deterministic pseudo-random based on index and tab label\n                        // This ensures consistent values between server and client\n                        const baseSeed = i * 1000 + (activeTab?.label?.charCodeAt(0) || 0);\n                        const seededRandom = (offset: number) => {\n                          const seed = baseSeed + offset;\n                          const x = Math.sin(seed) * 10000;\n                          return x - Math.floor(x);\n                        };\n\n                        return (\n                          <motion.div\n                            key={i}\n                            className=\"absolute w-2 h-2 rounded-full bg-white/10 blur-sm\"\n                            initial={{\n                              x: seededRandom(1) * 100 + \"%\",\n                              y: seededRandom(2) * 100 + \"%\",\n                              scale: 0,\n                            }}\n                            animate={{\n                              x: [\n                                seededRandom(3) * 100 + \"%\",\n                                seededRandom(4) * 100 + \"%\",\n                                seededRandom(5) * 100 + \"%\",\n                              ],\n                              y: [\n                                seededRandom(6) * 100 + \"%\",\n                                seededRandom(7) * 100 + \"%\",\n                                seededRandom(8) * 100 + \"%\",\n                              ],\n                              scale: [0, 1, 0],\n                              opacity: [0, 0.6, 0],\n                            }}\n                            transition={{\n                              duration: 4 + seededRandom(9) * 2,\n                              repeat: Infinity,\n                              delay: seededRandom(10) * 2,\n                              ease: \"easeInOut\",\n                            }}\n                          />\n                        );\n                      })}\n                    </div>\n\n                    {/* Content with 3D Transform */}\n                    <motion.div\n                      className=\"relative z-10 h-full flex flex-col\"\n                      style={{\n                        transform: \"translateZ(50px)\",\n                      }}\n                    >\n                      {tab.title && (\n                        <motion.h3\n                          initial={{ opacity: 0, y: 20, filter: \"blur(4px)\" }}\n                          animate={{ opacity: 1, y: 0, filter: \"blur(0px)\" }}\n                          transition={{ delay: 0.15, duration: 0.4, ease: [0.4, 0, 0.2, 1] }}\n                          className=\"text-xl sm:text-2xl md:text-3xl font-semibold text-white mb-4 sm:mb-6\"\n                        >\n                          {tab.title}\n                        </motion.h3>\n                      )}\n                      <motion.div\n                        initial={{ opacity: 0, y: 20, filter: \"blur(4px)\" }}\n                        animate={{ opacity: 1, y: 0, filter: \"blur(0px)\" }}\n                        transition={{ delay: 0.25, duration: 0.4, ease: [0.4, 0, 0.2, 1] }}\n                        className=\"text-neutral-200 flex-1 text-sm sm:text-base\"\n                        style={{\n                          transform: \"translateZ(30px)\",\n                        }}\n                      >\n                        {tab.content}\n                      </motion.div>\n                    </motion.div>\n\n                    {/* 3D Edge Highlights */}\n                    <div className=\"absolute inset-0 pointer-events-none\">\n                      <div\n                        className=\"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                        style={{\n                          transform: \"translateZ(100px)\",\n                        }}\n                      />\n                      <div\n                        className=\"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                        style={{\n                          transform: \"translateZ(-100px)\",\n                        }}\n                      />\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </AnimatePresence>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n"
    }
  ],
  "docs": "https://darshitdev.in/arts/components/magic-3d-tabs"
}